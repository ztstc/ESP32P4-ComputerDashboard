<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="467px" preserveAspectRatio="none" style="width:289px;height:467px;background:#FFFFFF;" version="1.1" viewBox="0 0 289 467" width="289px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="80" y="29.9659">SPI HD Host Write</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="79.1358" y2="429.902"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="164.5" x2="164.5" y1="79.1358" y2="429.902"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="5" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="12" y="67.0339">Slave</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="5" y="428.902"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="12" y="450.868">Slave</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="142.5" y="45.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="149.5" y="67.0339">Host</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="142.5" y="428.902"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="149.5" y="450.868">Host</text><path d="M91,94.1358 L91,121.1358 L237,121.1358 L237,104.1358 L227,94.1358 L91,94.1358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M227,94.1358 L227,104.1358 L237,104.1358 L227,94.1358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="97" y="113.0328">Prepare data to send</text><polygon fill="#181818" points="40.5,146.5479,30.5,150.5479,40.5,154.5479,36.5,150.5479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="34.5" x2="163.5" y1="150.5479" y2="150.5479"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="46.5" y="144.7389">Read RX_BUF_LEN</text><path d="M47,163.5479 L47,208.5479 L282,208.5479 L282,173.5479 L272,163.5479 L47,163.5479 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M272,163.5479 L272,173.5479 L282,173.5479 L272,163.5479 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="53" y="182.4449">available buffers =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="53" y="200.1509">RX_BUF_LEN - (cached)RX_BUF_LEN</text><path d="M61,218.9599 L61,263.9599 L268,263.9599 L268,228.9599 L258,218.9599 L61,218.9599 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M258,218.9599 L258,228.9599 L268,228.9599 L258,218.9599 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="67" y="237.8569">loop reading RX_BUF_LEN until</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="67" y="255.5629">buffers available</text><polygon fill="#181818" points="40.5,289.0779,30.5,293.0779,40.5,297.0779,36.5,293.0779" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="34.5" x2="163.5" y1="293.0779" y2="293.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="46.5" y="287.2689">Send WRDMA</text><polygon fill="#181818" points="40.5,320.784,30.5,324.784,40.5,328.784,36.5,324.784" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="34.5" x2="163.5" y1="324.784" y2="324.784"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="46.5" y="318.975">Tranfer Data</text><polygon fill="#181818" points="40.5,370.196,30.5,374.196,40.5,378.196,36.5,374.196" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="34.5" x2="163.5" y1="374.196" y2="374.196"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="46.5" y="350.681">Send WR_DONE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="46.5" y="368.387">(at end of transfer)</text><path d="M67,387.196 L67,414.196 L261,414.196 L261,397.196 L251,387.196 L67,387.196 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M251,387.196 L251,397.196 L261,397.196 L251,387.196 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="73" y="406.093">update (cached)RX_BUF_LEN</text><!--SRC=[VP3DQiD038Jl-nHpJ0vvWK0BAKv98Ks2dP8U34QnvNPXqPgrxEUlaj8_tFQed_bcfAFNm2WE3zXasCHUSKfUsRcEalhQToIA8j38FpgNJUSaAYEEdAxr4eV4jiHeI0aQqRCqpbsfYzjtoX8vKuFykRfxkg-swzsKGYFvG6UBTHxQbbEFcrA-15XWLbFzoityFqg8iKCoBoylt-mmYFfGoWVwqsoIix3mEENPuseoEYOIKoEpE__ILTb-jovbHefB8xPGK_Kccq_33fszZ7-xwmq0]--></g></svg>